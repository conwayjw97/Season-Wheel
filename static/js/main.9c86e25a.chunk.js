(this["webpackJsonpseason-wheel"]=this["webpackJsonpseason-wheel"]||[]).push([[0],{20:function(t,e,a){},24:function(t,e,a){},26:function(t,e,a){},27:function(t,e,a){},28:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a.n(n),s=a(11),c=a.n(s),h=(a(20),a(7)),r=a(4),o=a(3),l=a(6),d=a.n(l),u=a(9),x=a(14),b=a(15),j="rgb(0, 0, 0)",p="rgb(255, 255, 255)",f="rgb(150, 150, 150)",m="rgba(0, 220, 0, 1)",y="rgba(230, 230, 0, 1)",g="rgba(255, 127, 0, 1)",v="rgba(0, 175, 255, 1)",O=[v,v,m,m,m,y,y,y,g,g,g,v],M=[v,m,y,g,v],w=["January","February","March","April","May","June","July","August","September","October","November","December"];function D(t){return function(t){return t%4===0&&t%100!==0||t%400===0}(t)?366:365}function S(t,e,a){return Math.floor((new Date(a,e-1,t)-new Date(a,0,0))/1e3/60/60/24)}function C(t){return t<=Math.PI/2&&t>=0}function k(t){return t<0&&t>=-Math.PI/2}function P(t){return t<-Math.PI/2&&t>=-Math.PI}function Y(t){return t<-Math.PI&&t>=-3*Math.PI/2}function X(t){return C(t)||Y(t)}function T(t){return k(t)||P(t)}function I(t){return C(t)||k(t)}function N(t){return P(t)||Y(t)}function A(t){t.textAlign="center",t.textBaseline="middle"}function W(t,e){I(e)&&(t.textAlign="start"),N(e)&&(t.textAlign="end"),X(e)&&(t.textBaseline="bottom"),T(e)&&(t.textBaseline="top")}var F=function(){function t(e){Object(x.a)(this,t),this.ctx=e,this.centreX=window.innerWidth/2,this.centreY=window.innerHeight/2,this.radius=Math.floor(window.innerHeight/3),this.startRadians=Math.PI/2}return Object(b.a)(t,[{key:"clear",value:function(){this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight)}},{key:"drawDate",value:function(t){var e=t.day+"/"+t.month+"/"+t.year;1!=t.compDisabled&&(e+=" - "+t.compDay+"/"+t.compMonth+"/"+t.year),A(this.ctx),this.ctx.font="60px Consolas",this.ctx.fillStyle=p,this.ctx.fillText(e,this.centreX,this.centreY-this.radius-70)}},{key:"drawBaseCircle",value:function(){this.ctx.fillStyle=p,this.ctx.beginPath(),this.ctx.arc(this.centreX,this.centreY,this.radius,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill()}},{key:"drawAstroSeasonSections",value:function(t){var e=function(t){var e=window.eqsol(t),a=window.jd_data(e[0]),n=window.jd_data(e[1]),i=window.jd_data(e[2]),s=window.jd_data(e[3]);return[new Date(t,a[1]-1,Math.floor(a[0])),new Date(t,n[1]-1,Math.floor(n[0])),new Date(t,i[1]-1,Math.floor(i[0])),new Date(t,s[1]-1,Math.floor(s[0]))]}(t.year),a=D(t.year),n=e[e.length-1],i=S(n.getDate(),n.getMonth()+1,n.getFullYear()),s=-this.startRadians+i*(2*Math.PI/a);this.ctx.lineWidth=2,this.ctx.strokeStyle=f,this.ctx.font="20px Consolas",this.ctx.fillStyle=p;for(var c=["Spring Equinox","Summer Solstice","Autumn Equinox","Winter Solstice"],h=0;h<e.length;h+=1){var r=e[h];i=S(r.getDate(),r.getMonth()+1,r.getFullYear());var o=-this.startRadians+i*(2*Math.PI/a);this.ctx.fillStyle=M[h],this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.arc(this.centreX,this.centreY,this.radius,s,o,!1),this.ctx.lineTo(this.centreX,this.centreY),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke(),s=o,this.ctx.fillStyle=f,o=this.startRadians-i*(2*Math.PI/a),W(this.ctx,o);var l=this.centreX+(this.radius+5)*Math.cos(o),d=this.centreY-(this.radius+5)*Math.sin(o);this.ctx.fillText(c[h]+": "+r.getDate()+"/"+(r.getMonth()+1)+"/"+r.getFullYear(),l,d)}}},{key:"drawMeteoSeasonSections",value:function(t){var e=-Math.PI/2;this.ctx.font="20px Consolas",this.ctx.strokeStyle=j,A(this.ctx);this.radius;for(var a=1;a<13;a+=1){var n=new Date(t.year,a,0).getDate(),i=2*Math.PI/D(t.year)*n;this.ctx.fillStyle=O[a-1],this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.arc(this.centreX,this.centreY,this.radius,e,e+i,!1),this.ctx.lineTo(this.centreX,this.centreY),this.ctx.closePath(),this.ctx.fill(),e+=i}}},{key:"drawWhiteCircle",value:function(){this.ctx.fillStyle="rgb(200, 200, 200)",this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.arc(this.centreX,this.centreY,this.radius,0,2*Math.PI,!1),this.ctx.lineTo(this.centreX,this.centreY),this.ctx.closePath(),this.ctx.fill()}},{key:"drawMonthSections",value:function(t){var e=-Math.PI/2;this.ctx.font="20px Consolas",this.ctx.strokeStyle=j,A(this.ctx);for(var a=this.radius/3,n=1;n<13;n+=1){var i=new Date(t.year,n,0).getDate(),s=2*Math.PI/D(t.year)*i;this.ctx.lineWidth=3,this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.arc(this.centreX,this.centreY,this.radius,e,e+s,!1),this.ctx.lineTo(this.centreX,this.centreY),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fillStyle=j;var c=e+s/2,h=this.centreX+(this.radius-a)*Math.cos(c),r=this.centreY+(this.radius-a)*Math.sin(c);this.ctx.fillText(w[n-1],h,r),e+=s}}},{key:"drawDayLines",value:function(t){this.ctx.strokeStyle=j,this.ctx.lineWidth=1;for(var e=D(t.year),a=2*Math.PI/e,n=0;n<e;n+=1){var i=this.startRadians-n*a,s=this.radius/20,c=this.centreX+(this.radius-s)*Math.cos(i),h=this.centreY-(this.radius-s)*Math.sin(i),r=this.centreX+this.radius*Math.cos(i),o=this.centreY-this.radius*Math.sin(i);this.ctx.beginPath(),this.ctx.moveTo(c,h),this.ctx.lineTo(r,o),this.ctx.stroke()}}},{key:"drawDateLine",value:function(t){var e=D(t.year),a=S(t.day,t.month,t.year),n=Math.ceil(a/100*(100*this.ctx.globalAlpha)),i=this.startRadians-n*(2*Math.PI/e),s=this.centreX+this.radius*Math.cos(i),c=this.centreY-this.radius*Math.sin(i);this.ctx.lineWidth=3,this.ctx.strokeStyle=p,this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.lineTo(s,c),this.ctx.stroke(),W(this.ctx,i),this.ctx.font="30px Consolas",this.ctx.fillStyle=p;var h=Math.round(100/e*n*100)/100;if(this.ctx.fillText(h+"%",s,c),1!=t.compDisabled){var r=S(t.compDay,t.compMonth,t.year),o=Math.ceil(r/100*(100*this.ctx.globalAlpha)),l=this.startRadians-o*(2*Math.PI/e),d=this.centreX+this.radius*Math.cos(l),u=this.centreY-this.radius*Math.sin(l);this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.lineTo(d,u),this.ctx.stroke(),W(this.ctx,l);var x=Math.round(100/e*o*100)/100;this.ctx.fillText(x+"%",d,u),this.ctx.fillStyle="rgba(0, 0, 0, 0.35)",this.ctx.strokeStyle=p,this.ctx.beginPath(),this.ctx.moveTo(this.centreX,this.centreY),this.ctx.arc(this.centreX,this.centreY,this.radius,-i,-l,!1),this.ctx.lineTo(this.centreX,this.centreY),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill(),A(this.ctx),this.ctx.font="30px Consolas",this.ctx.fillStyle=p;var b=this.radius/3,j=i+(l-i)/2,f=this.centreX+(this.radius-b)*Math.cos(j),m=this.centreY-(this.radius-b)*Math.sin(j);this.ctx.fillText(Math.round(10*(x-h))/10+"%",f,m)}}},{key:"drawComparisonAnalysis",value:function(t){if(1!=t.compDisabled){var e=S(t.day,t.month,t.year),a=Math.ceil(e/100*(100*this.ctx.globalAlpha)),n=S(t.compDay,t.compMonth,t.year),i=Math.ceil(n/100*(100*this.ctx.globalAlpha)),s=i-a+" Days",c=Math.round((i-a)/7*10)/10+" Weeks",h=Math.round((i-a)/30*100)/100+" Months";A(this.ctx),this.ctx.font="30px Consolas",this.ctx.fillStyle=p,this.ctx.fillText(s,this.centreX,this.centreY+this.radius+50),this.ctx.fillText(c,this.centreX,this.centreY+this.radius+50+40),this.ctx.fillText(h,this.centreX,this.centreY+this.radius+50+80)}}}]),t}(),R=(a(24),a(0));var L=function(t){var e=Object(n.useRef)(null),a=window.innerWidth,i=window.innerHeight;function s(){return(s=Object(h.a)(d.a.mark((function t(e,a){var n,i,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t){return new Promise((function(e){return setTimeout(e,t)}))},i=0,s=.01;case 3:if(!(i<=1)){t.next=12;break}return e.globalAlpha=i,c(e,a),i+=s,i=Math.round(1e3*i)/1e3,t.next=10,n(10);case 10:t.next=3;break;case 12:c(e,a);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(e,a){a.clear(),a.drawDate(t.date),"astronomical"==t.seasons&&a.drawAstroSeasonSections(t.date),"meteorological"==t.seasons&&a.drawMeteoSeasonSections(t.date),"none"==t.seasons&&a.drawWhiteCircle(),a.drawMonthSections(t.date),a.drawDayLines(t.date),a.drawDateLine(t.date),a.drawComparisonAnalysis(t.date)}return Object(n.useEffect)((function(){if(1==t.scriptsLoaded){var a=e.current.getContext("2d"),n=new F(a);a.globalAlpha=0,function(t,e){s.apply(this,arguments)}(a,n)}}),[t.scriptsLoaded,t.updateCount]),Object(R.jsx)("canvas",{ref:e,width:a,height:i,className:"Canvas",children:Object(R.jsx)("p",{children:'Your browser doesn"t support canvas.'})})},B=a(5);a(26);var E=function(t){var e,a=Object(n.useState)(!1),i=Object(r.a)(a,2),s=i[0],c=i[1],h=function(t){c(!s)};return Object(R.jsxs)("div",{children:[Object(R.jsx)("button",{className:"button openButton",style:{bottom:60,left:60},onClick:h,children:"\u270e"}),Object(R.jsxs)("div",{className:"settingsMenu",style:{width:s?"500px":"0"},children:[Object(R.jsx)("button",{className:"button closeButton",onClick:h,children:"\xd7"}),Object(R.jsx)("label",{className:"heading",children:"Date"}),Object(R.jsxs)("label",{className:"dateField",children:[Object(R.jsx)("input",{id:"day",type:"number",className:"dayInput",value:t.date.day,onChange:t.handleDateChange}),"/",Object(R.jsx)("input",{id:"month",type:"number",className:"monthInput",value:t.date.month,onChange:t.handleDateChange}),"/",Object(R.jsx)("input",{id:"year",type:"number",className:"yearInput",value:t.date.year,onChange:t.handleDateChange})]}),Object(R.jsx)("hr",{}),Object(R.jsxs)("label",{className:"heading",children:["Comparative Date",Object(R.jsx)("input",{id:"compDisabled",type:"checkbox",className:"checkboxInput",checked:!t.date.compDisabled,onChange:t.handleDateChange})]}),Object(R.jsxs)("label",{className:"dateField",children:[Object(R.jsx)("input",{id:"compDay",type:"number",className:"dayInput",disabled:t.date.compDisabled,value:t.date.compDay,onChange:t.handleDateChange}),"/",Object(R.jsx)("input",{id:"compMonth",type:"number",className:"monthInput",disabled:t.date.compDisabled,value:t.date.compMonth,onChange:t.handleDateChange}),"/",t.date.year]}),Object(R.jsx)("hr",{}),Object(R.jsxs)("label",{className:"heading",children:["Seasons",Object(R.jsx)("span",{className:"variableDropdown",children:Object(R.jsxs)("select",(e={id:"seasons",value:"default"},Object(B.a)(e,"value",t.season),Object(B.a)(e,"onChange",t.handleSeasonsChange),Object(B.a)(e,"children",[Object(R.jsx)("option",{value:"astronomical",children:"Astronomical"}),Object(R.jsx)("option",{value:"meteorological",children:"Meteorological"}),Object(R.jsx)("option",{value:"none",children:"None"})]),e))})]}),Object(R.jsx)("hr",{}),Object(R.jsx)("div",{className:"separator"}),Object(R.jsx)("button",{className:"save",onClick:t.handleSave,children:"Save"}),Object(R.jsx)("div",{id:"credits",style:{position:"absolute",right:10,top:window.innerHeight-30},children:Object(R.jsx)("a",{href:"https://github.com/conwayjw97",children:"github.com/conwayjw97/"})})]})]})},H=(a(27),new Date),J={day:H.getDate(),month:H.getMonth()+1,year:H.getFullYear(),compDisabled:!0,compDay:H.getDate(),compMonth:H.getMonth()+1};function q(t,e){var a=e.nativeEvent.srcElement.id,n=parseInt(e.target.value);switch(a){case"day":return n>0&&n<32?t.compMonth==t.month&&t.compDay<n?Object(o.a)(Object(o.a)({},t),{},{day:n,compDay:n}):Object(o.a)(Object(o.a)({},t),{},{day:n}):Object(o.a)({},t);case"month":return n>0&&n<13?t.compMonth<n||t.compMonth==n&&t.day>t.compDay?Object(o.a)(Object(o.a)({},t),{},{month:n,compMonth:n}):Object(o.a)(Object(o.a)({},t),{},{month:n}):Object(o.a)({},t);case"year":return n>0?Object(o.a)(Object(o.a)({},t),{},{year:n}):Object(o.a)({},t);case"compDisabled":return Object(o.a)(Object(o.a)({},t),{},{compDisabled:!e.target.checked});case"compDay":return n>0&&n<32&&(t.compMonth>t.month||t.compMonth==t.month&&n>t.day)?Object(o.a)(Object(o.a)({},t),{},{compDay:n}):Object(o.a)({},t);case"compMonth":return n>0&&n<13&&(n>t.month||n==t.month&&t.compDay>t.day)?Object(o.a)(Object(o.a)({},t),{},{compMonth:n}):Object(o.a)({},t)}}var _=function(){var t=window.innerHeight,e=Object(n.useReducer)(q,J),a=Object(r.a)(e,2),i=a[0],s=a[1],c=Object(n.useState)("astronomical"),o=Object(r.a)(c,2),l=o[0],x=o[1],b=Object(n.useState)(0),j=Object(r.a)(b,2),p=j[0],f=j[1],m=Object(n.useState)(!1),y=Object(r.a)(m,2),g=y[0],v=y[1];function O(){return(O=Object(h.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(t){return new Promise((function(e){return setTimeout(e,t)}))};case 1:if("function"==typeof window.eqsol){t.next=6;break}return t.next=4,e(10);case 4:t.next=1;break;case 6:v(!0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),Object(R.jsx)(u.b,{children:Object(R.jsxs)("div",{style:{height:t},className:"App",children:[Object(R.jsx)(u.a,{children:Object(R.jsx)("script",{src:"/Season-Wheel/lib/astrojs.js",type:"text/javascript"})}),Object(R.jsx)(L,{date:i,seasons:l,updateCount:p,scriptsLoaded:g}),Object(R.jsx)(E,{date:i,handleDateChange:s,seasons:l,handleSeasonsChange:function(t){console.log(l),x(t.target.value)},handleSave:function(){f(p+1)}})]})})},z=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,29)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),n(t),i(t),s(t),c(t)}))};c.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)(_,{})}),document.getElementById("root")),z()}},[[28,1,2]]]);
//# sourceMappingURL=main.9c86e25a.chunk.js.map